var n=Object.defineProperty;var h=(e,t,s)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var i=(e,t,s)=>(h(e,typeof t!="symbol"?t+"":t,s),s);import{d as r}from"./appearance.DsyTvndj.js";import"./entry.QV8Zqrho.js";class d{constructor(t){i(this,"$el");i(this,"$sc");i(this,"duration");i(this,"initialDirection");i(this,"time",0);i(this,"targetY",0);i(this,"directionResult",1);i(this,"ease",.06);i(this,"top");i(this,"currentTop");i(this,"velocity",0);i(this,"direction",-1);this.$el=t.$el,this.$sc=document.querySelector("#scroll-container"),this.duration=t.duration,this.initialDirection=t.direction??1}init(){this.animate=this.animate.bind(this),this.onScroll=this.onScroll.bind(this),window.escroll.on(this.onScroll),r.raf.on(this.animate)}get sizes(){return this.$el.getBoundingClientRect()}calculate(){const t=this.time/60;t>this.duration&&(this.time=0),-t>this.duration&&(this.time=-(this.duration/2)*60);const s=this.sizes.width*(t/this.duration);this.targetY=s;let o=this.targetY/this.sizes.width*100;o<=-50&&(o=0,this.targetY=0,this.time=0),o>0&&(o=-50,this.targetY=-this.sizes.width/2,this.time=-(this.duration/2)*60)}animate(){this.time+=this.direction+this.velocity/100*this.initialDirection,this.calculate(),this.transform(this.$el,this.targetY),this.currentTop=this.top}onScroll(t){this.top=-t.position,this.direction=t.direction,this.velocity=t.velocity}transform(t,s){t.style.transform=r.matrixTransform({move:{x:s}}),t.style.willChange="transform"}destroy(){r.raf.off(this.animate)}}export{d as Marquee};
